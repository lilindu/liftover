<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>pombe_liftover (converting genomic coordinates between PomBase reference and Leupold consensus)</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style>
      body { font-family: system-ui, sans-serif; margin: 2rem; }
      textarea { width: 100%; height: 10rem; }
      pre { background: #f6f8fa; padding: 1rem; overflow: auto; font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace; tab-size: 4; }
      table { width: 100%; border-collapse: collapse; }
      thead th { text-align: left; padding: 4px 8px; border-bottom: 1px solid #eaecef; font-weight: 600; }
      tbody td { padding: 4px 8px; border-bottom: 1px solid #f0f0f0; white-space: nowrap; }
      .row { display: flex; gap: 1rem; align-items: center; flex-wrap: wrap; }
      input[type=file] { margin-bottom: 0.5rem; }
      button { padding: 0.5rem 1rem; }
      .title { font-size: 2.0rem; font-weight: 700; letter-spacing: 0.2px; line-height: 1.2; margin: 0; }
      .subtitle { font-size: 0.95rem; color: #6b7280; margin-top: 4px; }
      .badge { display: inline-block; font-size: 0.8rem; color: #374151; background: #eef2ff; border: 1px solid #c7d2fe; border-radius: 999px; padding: 2px 8px; margin-left: 8px; }
      @media (max-width: 640px) { .title { font-size: 1.6rem; } }
    </style>
  </head>
  <body>
    <h1 class="title">pombe_liftover</h1>
    <div class="subtitle">converting genomic coordinates between PomBase reference and Leupold consensus <span id="versionBadge" class="badge"></span></div>
    <div style="border-top:1px solid #eaecef;margin:8px 0 16px;"></div>
    <div class="row">
      <div id="statusAB">PomBase→Leupold: not loaded</div>
      <div id="statusBA">Leupold→PomBase: not loaded</div>
    </div>
    <h3>Input coordinates (one per line, CHR:POS or CHR:START-END; coordinates are 1-based and inclusive)</h3>
    <textarea id="coords" placeholder="I:1000&#10;II:250-400&#10;III:42"></textarea>
    <div class="row">
      <button id="runAB">Liftover PomBase→Leupold</button>
      <button id="runBA">Liftover Leupold→PomBase</button>
      <button id="runRoundtrip">Round-Trip PomBase→Leupold→PomBase</button>
      <button id="download">Download Results</button>
    </div>
    <h3>Results</h3>
    <div id="resultsHelp" style="background:#f6f8fa;border:1px solid #eaecef;padding:8px;margin:8px 0;font-size:12px;">
      <strong style="display:block;font-size:14px;">Explanation of the output:</strong>
      <span style="display:block;">A = source genome; B = target genome</span>
      <strong>Status:</strong>
      <span style="display:block;">OK = Interval maps within a single block</span>
      <span style="display:block;">SPANNING_BLOCKS = Interval spans multiple blocks; see “gaps” column for details on gaps between blocks</span>
      <span style="display:block;">UNMAPPED = One or both endpoints do not fall in any block</span>
      <span style="display:block;">Round‑Trip: PASS = B→A interval equals original; otherwise FAIL</span>
      <strong style="display:block;">Gaps syntax:</strong>
      <span style="display:block;">GAP_A:N@A:start→end = N bp unaligned bases on A</span>
      <span style="display:block;">GAP_B:N@B:start→end = N bp unaligned bases on B</span>
      <span style="display:block;">OVERLAP_B:N@B:start→end = N bp overlap on B across block boundary</span>
      <span style="display:block;">Round‑Trip columns “gapsAB” and “gapsBA” list gaps seen in each direction</span>
    </div>
    <table id="outTable">
      <thead id="outHead"></thead>
      <tbody id="outBody"></tbody>
    </table>
    <pre id="out" style="display:none"></pre>
    <script src="app.js?v=autoload_fix_13"></script>
  </body>
</html>
